from collections import defaultdict
from fastapi import FastAPI, Depends, HTTPException, status
from fastapi.middleware.cors import CORSMiddleware
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from sqlalchemy.orm import Session

from .database import SessionLocal, init_db   # <- aqui
from . import models, schemas, security


# cria as tabelas ao subir a API
init_db()   # <- adiciona essa linha ANTES de usar o banco


app = FastAPI(title="Datainsight AVALIA NR01 PRO")
